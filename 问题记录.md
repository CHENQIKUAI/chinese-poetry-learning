# long time before
## collection.ensureIndex is deprecated. Use createIndexes instead
mongoose.set("useCreateIndex", true);

## 后端发送token到前端，前端拿到token干什么用？
前端只负责保存，请求资源时，带上token当作令牌即可。

## 后端一些常量存在哪里

## 前端得到后端返回的404错误，但是无法在浏览器中打印出来。
后端res.status(422).send("error")，返回错误。
前端用ajax函数处理（本项目中）。
ajax返回一个promise对象。给promise传入一个函数，该函数中执行http请求，请求得到的结果使用resolve传送出去。
但是我没有处理reject。如果404，则http请求会失败，则需要使用catch捕获该错误。
只要将这个错误通过reject传送出去即可满足我在调用封装好的ajax请求函数后依然可以处理错误的需求了。

## antd Form如何自定义表单校验的触发条件？
validate中配置。



# 2020.2.2

## 以下格式发送http请求怎么也无法返回理想的结果
POST http://localhost:3001/signin HTTP/1.1
content-type: application/json

{
    "username":"Hendry",
    "password":"123123",
}

原因：格式不正确！最后一个属性值的后面不可以跟","，这里http编译和js编译中不一样。


## mongoose.model(name, [shcema], [collection])
name «String|Function» model name or class extending Model
[shcema] «Schema» the schema to use.
[collection] «String» name (optional, inferred from model name)
给model起名字时，如果为中文，则集合的名字也就是该中文。如果是英文，则集合的名字为该英文的复数。


## ObjectId问题？前端如何指定ObjectId？
ObjectId(<String>);
直接传字符串id即可


## findByIdAndUpdate(id, [update])中update可以只是文档需要更新的部分
id «Object|Number|String» value of _id to query by
[update] «Object»
使用findByIdAndUpdate方法更新，第二个参数不用写全，只需要写要更新的一些字段就好了。
```
var query = { name: 'borne' };
Model.findOneAndUpdate(query, { name: 'jason bourne' }, options, callback)
// is sent as
Model.findOneAndUpdate(query, { $set: { name: 'jason bourne' }}, options, callback)
```





















