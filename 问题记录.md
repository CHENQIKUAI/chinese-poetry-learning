# long time before
## collection.ensureIndex is deprecated. Use createIndexes instead
mongoose.set("useCreateIndex", true);

## 后端发送token到前端，前端拿到token干什么用？
前端只负责保存，请求资源时，带上token当作令牌即可。

## 后端一些常量存在哪里

## 前端得到后端返回的404错误，但是无法在浏览器中打印出来。
后端res.status(422).send("error")，返回错误。
前端用ajax函数处理（本项目中）。
ajax返回一个promise对象。给promise传入一个函数，该函数中执行http请求，请求得到的结果使用resolve传送出去。
但是我没有处理reject。如果404，则http请求会失败，则需要使用catch捕获该错误。
只要将这个错误通过reject传送出去即可满足我在调用封装好的ajax请求函数后依然可以处理错误的需求了。

## antd Form如何自定义表单校验的触发条件？
validate中配置。



# 2020.2.2

## 以下格式发送http请求怎么也无法返回理想的结果
POST http://localhost:3001/signin HTTP/1.1
content-type: application/json

{
    "username":"Hendry",
    "password":"123123",
}

原因：格式不正确！最后一个属性值的后面不可以跟","，这里http编译和js编译中不一样。


## mongoose.model(name, [shcema], [collection])
name «String|Function» model name or class extending Model
[shcema] «Schema» the schema to use.
[collection] «String» name (optional, inferred from model name)
给model起名字时，如果为中文，则集合的名字也就是该中文。如果是英文，则集合的名字为该英文的复数。


## ObjectId问题？前端如何指定ObjectId？
ObjectId(<String>);
直接传字符串id即可


## findByIdAndUpdate(id, [update])中update可以只是文档需要更新的部分
id «Object|Number|String» value of _id to query by
[update] «Object»
使用findByIdAndUpdate方法更新，第二个参数不用写全，只需要写要更新的一些字段就好了。
```
var query = { name: 'borne' };
Model.findOneAndUpdate(query, { name: 'jason bourne' }, options, callback)
// is sent as
Model.findOneAndUpdate(query, { $set: { name: 'jason bourne' }}, options, callback)
```

total 为条目总数

## 在集合的头部插入数据？？

## 页面打开状态下，经历长时间，token过期。点击页面没有内容显示。期望提示token过期。

## Warning: You cannot set a form field before rendering a field associated with the value
传多了，_v
## modify后没有效果
_id没有传进去
# npm 报错了
安装了typescript 然后删除了tsconfig.json就可以了？？


# ？：什么意思？？
 { title: /(?:)/g,
  writer: /(?:)/g,
  dynasty: /(?:)/g,
  type: /(?:)/g }

  
# 数组如何匹配？？？？Mongodb

# 列表中无标签的诗词，标签栏需要显示什么东西


后端：
<!-- 输入**诗词名字 搜索得到 **相关的诗词列表**     -->
<!-- 点击**诗词**，添加到 该年级该学期的必学诗词中。        -->
<!-- 查询某学期的必学篇目，返回，诗词名字，作者，内容。        完成，需要检验！ -->

# 前端：
<!-- 诗词搜索后的列表 -->
<!-- 展示诗词的列表 -->
<!-- 刚进入页面时候，还未选择cascader时，也要显示数据。 -->
# 晚上

<!-- 搜索出来的诗词，添加时，需要查看是否已经出现在必学诗词中了 -->
<!-- 样式 -->

<!-- 
## 如果删除一首诗词，
1. 那么引用这首诗词的地方也应该被删除？       不提醒！一步到底！  **采取这个方法吧√ 因为代码量比较少**
2. 或者引用到这个诗词的地方加一个判断，看诗词是否已被删除，如果已被删除则显示“资源已被删除”？ 提醒！让你看见这里曾经是有东西的。 -->

<!-- ## 给删除的按钮添加一个密码验证，防止随随便便就删除了。 -->

<!-- 
# 搜索
?value=将进酒 -->

<!-- # 晚上任务
时间： 19：30 -- 22：00

<!-- 1. 高亮 -->
<!-- 2. 个人设置模块的思考
3. 个人设置模块的编写
4. 编程的学习的思考
5. 编程的学习 -->


待修改部分:
1. 诗词搜索部分 将搜索分割开来 题目的对题目 作者的对作者 type对type
mongodb中数组字段的匹配
<!-- 2. 个人设置用户名字符串的限定 -->



















